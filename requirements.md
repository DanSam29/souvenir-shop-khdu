# Вимоги до інтернет-магазину сувенірної продукції ХДУ

## 1. Вступ

### 1.1. Назва проекту
**Інтернет-магазин сувенірної продукції Херсонського державного університету**

### 1.2. Цільова аудиторія
- **Студенти ХДУ** — основні покупці університетських сувенірів
- **Викладачі та працівники університету** — для придбання продукції та корпоративних товарів
- **Випускники університету** — для підтримки зв'язку з alma mater через придбання символічної атрибутики
- **Гості університету, відвідувачі заходів** — потенційні покупці сувенірної продукції
- **Партнери та представники інших навчальних закладів** — для корпоративних замовлень
- **Адміністрація університету** — для керування асортиментом, обліком замовлень і фінансами

### 1.3. Проблема, яку вирішує проект

**Поточні проблеми:**
- **Обмежена доступність:** Сувенірна продукція університету доступна лише в окремих локаціях та під час спеціальних заходів (наприклад, День університету), що значно обмежує можливість придбання товарів протягом року
- **Відсутність інформації:** Потенційні покупці не мають можливості заздалегідь ознайомитися з асортиментом, побачити фото товарів, дізнатися про ціни та наявність
- **Проблеми з розмірами та асортиментом:** Обмежений вибір розмірів та варіантів товарів у фізичних точках продажу призводить до незадоволення покупців
- **Незручний процес покупки:** Великі черги під час заходів, обмежений графік роботи точок продажу створюють бар'єри для здійснення покупки
- **Відсутність можливості доставки:** Необхідність особистого відвідування точок продажу незручна для випускників, віддалених студентів та інших зацікавлених осіб

**Рішення:**
Створення повнофункціонального інтернет-магазину з інтуїтивним інтерфейсом, інтеграцією з платіжними системами (Stripe) та службою доставки (Nova Poshta), що забезпечить:
- Цілодобовий доступ до каталогу товарів
- Можливість детального ознайомлення з продукцією (фото, опис, характеристики)
- Зручне оформлення замовлення та доставку в будь-яку точку України
- Відстеження статусу замовлення в реальному часі
- Автоматизований облік товарів та фінансів для адміністрації

---

## 2. Функціональні вимоги

### 2.1. User Stories

| № | User Story | Пріоритет | Оцінка |
|---|------------|-----------|--------|
| 1 | Як гість, я хочу переглядати каталог товарів, щоб побачити асортимент магазину | High | 3 |
| 2 | Як гість, я хочу шукати товари за назвою, щоб швидко знайти потрібний товар | High | 2 |
| 3 | Як гість, я хочу фільтрувати товари за категоріями та ціною, щоб знайти підходящі варіанти | High | 3 |
| 4 | Як гість, я хочу переглядати детальну інформацію про товар, щоб прийняти рішення про покупку | High | 2 |
| 5 | Як гість, я хочу зареєструватися в системі, щоб мати можливість робити покупки | High | 4 |
| 6 | Як користувач, я хочу додавати товари до кошика, щоб зібрати всі потрібні товари перед оформленням | High | 3 |
| 7 | Як користувач, я хочу оформити замовлення з вибором доставки Nova Poshta, щоб отримати товар зручним способом | High | 5 |
| 8 | Як користувач, я хочу обрати спосіб оплати (онлайн або при отриманні), щоб оплатити зручним для мене способом | High | 4 |
| 9 | Як користувач, я хочу відстежувати статус свого замовлення, щоб знати, коли очікувати доставку | High | 3 |
| 10 | Як користувач, я хочу переглядати історію своїх замовлень, щоб відстежувати попередні покупки | Medium | 2 |
| 11 | Як користувач, я хочу редагувати свій профіль, щоб оновлювати контактні дані | Medium | 2 |
| 12 | Як користувач, я хочу зберігати адреси доставки, щоб швидко оформляти наступні замовлення | Low | 2 |
| 13 | Як користувач, я хочу отримувати email-сповіщення про зміну статусу, щоб бути в курсі подій | Medium | 3 |
| 14 | Як менеджер, я хочу додавати нові товари до каталогу, щоб розширювати асортимент | High | 4 |
| 15 | Як менеджер, я хочу керувати категоріями товарів, щоб структурувати каталог | High | 3 |
| 16 | Як менеджер, я хочу завантажувати зображення товарів, щоб покупці бачили, як виглядає товар | High | 3 |
| 17 | Як менеджер, я хочу створювати акції та знижки, щоб стимулювати продажі | Medium | 4 |
| 18 | Як менеджер, я хочу оформлювати прибуткові накладні, щоб фіксувати надходження товару на склад | High | 4 |
| 19 | Як менеджер, я хочу переглядати поточні залишки товарів, щоб контролювати наявність | Medium | 2 |
| 20 | Як адміністратор, я хочу керувати замовленнями, щоб змінювати їх статуси та обробляти | High | 4 |
| 21 | Як адміністратор, я хочу керувати користувачами, щоб блокувати або скидати паролі | High | 3 |
| 22 | Як адміністратор, я хочу переглядати фінансові звіти, щоб аналізувати продажі | Medium | 4 |
| 23 | Як адміністратор, я хочу налаштовувати параметри системи, щоб адаптувати магазин під потреби | Medium | 3 |
| 24 | Як суперадмін, я хочу керувати ролями та дозволами, щоб контролювати доступ користувачів | High | 5 |
| 25 | Як суперадмін, я хочу налаштовувати інтеграції (Stripe, Nova Poshta), щоб система працювала коректно | High | 5 |

---

## 3. Нефункціональні вимоги

### 3.1. Продуктивність

- **NFR-P-01:** Система повинна підтримувати одночасну роботу не менше 500 активних користувачів без значного зниження продуктивності
- **NFR-P-02:** Час завантаження сторінок для кінцевого користувача не повинен перевищувати 3 секунди, а час обробки API-запитів — 2 секунди
- **NFR-P-03:** Система повинна обробляти не менше 50 транзакцій оформлення замовлень за хвилину
- **Критерії прийняття:** Відповіді від сервера на стандартні запити (перегляд каталогу, пошук товарів) мають надходити менш ніж за 2 секунди за умови стабільного інтернет-з'єднання

### 3.2. Надійність

- **NFR-R-01:** Система повинна бути доступною 99.5% часу протягом року, за винятком запланованих технічних робіт
- **NFR-R-02:** Автоматичне резервне копіювання бази даних та критичних файлів має виконуватися щодня
- **NFR-R-03:** У разі тимчасової недоступності зовнішніх сервісів (Nova Poshta, Stripe) система повинна коректно обробляти помилки та забезпечувати відновлення функціоналу після відновлення зв'язку

### 3.3. Безпека

- **NFR-S-01:** Весь трафік між клієнтом та сервером повинен шифруватися за допомогою HTTPS (TLS 1.2+)
- **NFR-S-02:** Система повинна використовувати безпечні механізми аутентифікації (JWT) та авторизації на основі ролей (RBAC)
- **NFR-S-03:** Система не повинна зберігати платіжні дані (номери карток, CVC). Всі платежі мають оброблятися через інтегрований платіжний шлюз (Stripe) з використанням токенізації
- **NFR-S-04:** Система повинна включати захист від поширених веб-загроз: XSS, CSRF, SQL-ін'єкції
- **Критерії прийняття:** Дані користувачів (паролі) зберігаються в хешованому вигляді з використанням bcrypt. Платіжна інформація обробляється виключно через Stripe без збереження на власних серверах

### 3.4. Зручність використання (Usability)

- **NFR-U-01:** Інтерфейс користувача повинен бути зрозумілим та інтуїтивним, щоб клієнт міг знайти та замовити товар не більше ніж за 5 кліків
- **NFR-U-02:** Інтерфейс повинен коректно відображатися та функціонувати на пристроях з різними роздільними здатностями (ПК, планшети, смартфони) — **мобільно-адаптивний дизайн**
- **NFR-U-03:** Інтерфейс системи повинен підтримувати мінімум дві мови: українську та англійську
- **Критерії прийняття:** Сайт має адаптуватися під екрани з роздільною здатністю від 320px (мобільні пристрої) до 1920px+ (десктоп). Основні елементи навігації повинні бути доступні не глибше 3 кліків від головної сторінки

### 3.5. Масштабованість

- **NFR-SC-01:** Архітектура системи повинна дозволяти горизонтальне масштабування для збільшення продуктивності шляхом додавання нових серверних нод

### 3.6. Сумісність

- **NFR-CO-01:** Клієнтська частина (Frontend) повинна коректно працювати в останніх версіях популярних браузерів: Chrome, Firefox, Safari, Edge
- **NFR-CO-02:** Система має інтегруватися з зовнішніми сервісами через публічні API: платіжна система Stripe, служба доставки Nova Poshta
- **NFR-CO-03:** Система має підтримувати оплату в різних валютах для міжнародних клієнтів через інтеграцію з Stripe Adaptive Pricing (базова валюта — UAH)

### 3.7. Супроводжуваність

- **NFR-M-01:** Код має бути модульним, добре структурованим та супроводжуватися технічною документацією для полегшення подальшої підтримки та розвитку

---

## 4. Use Cases

### 4.1. Use Case: Реєстрація користувача в системі

**Актор:** Гість

**Передумови:** Користувач перейшов на сайт інтернет-магазину

**Основний потік:**
1. Гість натискає кнопку "Реєстрація"
2. Система відображає форму з полями: ім'я, прізвище, email, пароль, підтвердження паролю, телефон (опціонально), згода з умовами використання
3. Гість заповнює поля та встановлює прапорець "Згоден з умовами використання"
4. Гість натискає кнопку "Зареєструватись"
5. Система валідує введені дані:
   - Перевіряє валідність email
   - Перевіряє, що пароль містить мінімум 8 символів, букви та цифри
   - Перевіряє співпадіння паролів
   - Перевіряє встановлення згоди на умови використання
6. Система перевіряє унікальність email в базі даних
7. Система хешує пароль за допомогою bcrypt
8. Система створює новий запис в таблиці Users з призначенням ролі "Користувач"
9. Система генерує JWT токен для автоматичної авторизації
10. Система підготовує та надсилає email з підтвердженням реєстрації через Email Service
11. Система логує успішну реєстрацію в Serilog
12. Система перенаправляє користувача на головну сторінку з повідомленням "Реєстрація успішна! Перевірте Email для підтвердження"

**Альтернативні потоки:**
- **Alt 1 (Email вже існує):** Якщо email вже зареєстрований в системі, показати помилку "Цей Email вже зареєстрований" та запропонувати перейти до форми авторизації
- **Alt 2 (Некоректний email):** Якщо формат email невалідний, показати помилку "Email некоректний" та підсвітити поле червоним
- **Alt 3 (Слабкий пароль):** Якщо пароль не відповідає вимогам, показати помилку з конкретними підказками та підсвітити поле червоним
- **Alt 4 (Паролі не співпадають):** Якщо паролі не співпадають, показати помилку "Паролі не співпадають" та підсвітити обидва поля червоним
- **Alt 5 (Відсутня згода):** Якщо користувач не встановив прапорець згоди, показати помилку "Необхідно прийняти умови використання"

**Винятки:**
- **Exc 1 (Email не відправлено):** Якщо виникла помилка при відправці email, система логує помилку в Serilog та створює задачу для повторної відправки, але реєстрація вважається успішною

**Постумови:** Користувач зареєстрований в системі, автоматично авторизований та перенаправлений на головну сторінку

---

### 4.2. Use Case: Оформлення замовлення

**Актор:** Користувач

**Передумови:** 
- Користувач авторизований в системі
- Кошик містить один або більше товарів
- Загальна сума замовлення ≥ 100 грн

**Основний потік:**
1. Користувач переходить до кошика та переглядає список товарів
2. Користувач натискає кнопку "Оформити замовлення"
3. Система перевіряє наявність усіх товарів на складі (Stock ≥ Quantity для кожного товару)
4. Система перевіряє, що загальна сума замовлення ≥ 100 грн
5. Система відображає форму оформлення замовлення з розділами:
   - Контактні дані (email, телефон)
   - Спосіб доставки (Nova Poshta)
   - Спосіб оплати (Карткою онлайн / Оплата при отриманні)
6. Користувач підтверджує/редагує контактні дані
7. Користувач обирає населений пункт зі списку (система надсилає запит до Nova Poshta API)
8. Система відображає список відділень Nova Poshta у обраному населеному пункті
9. Користувач обирає відділення Nova Poshta
10. Система надсилає запит до Nova Poshta API для розрахунку вартості доставки на основі ваги товарів
11. Система відображає загальну суму (товари + доставка)
12. Користувач обирає спосіб оплати
13. Користувач натискає "Підтвердити замовлення"
14. **[Якщо обрано "Карткою онлайн"]:**
    - Система створює запис замовлення в БД (status: "Очікує оплати")
    - Система автоматично створює видаткові накладні через WarehouseService для кожного товару (автоматично зменшує Stock)
    - Система генерує сесію оплати в Stripe через API
    - Система перенаправляє користувача на сторінку Stripe для введення даних картки
    - Користувач вводить дані картки
    - Stripe обробляє платіж та повертає результат через webhook
    - Якщо платіж успішний:
      - Система оновлює статус замовлення на "Обробляється"
      - Система оновлює статус платежу на "Оплачено"
      - Система додає запис у таблицю Payments
      - Система надсилає email-підтвердження користувачу
      - Система очищає кошик користувача
      - Система перенаправляє на сторінку "Замовлення успішно створено" з номером та деталями
15. **[Якщо обрано "Оплата при отриманні"]:**
    - Система створює запис замовлення в БД (status: "Очікує оплати при отриманні")
    - Система автоматично створює видаткові накладні через WarehouseService (автоматично зменшує Stock)
    - Система створює запис в таблиці Payments (status: "Очікує оплати при отриманні", method: "Cash on Delivery")
    - Система надсилає email-підтвердження з деталями та інструкціями з оплати
    - Система очищає кошик користувача
    - Система перенаправляє на сторінку "Замовлення успішно створено" з повідомленням "Оплатіть замовлення при отриманні на відділенні Nova Poshta"

**Альтернативні потоки:**
- **Alt 1 (Товар недоступний):** Якщо Stock < Quantity для будь-якого товару, показати повідомлення "Товар [назва] недоступний у потрібній кількості" та запропонувати видалити з кошика або зменшити кількість
- **Alt 2 (Сума < 100 грн):** Якщо загальна сума менше мінімальної, показати повідомлення "Мінімальна сума замовлення - 100 грн"
- **Alt 3 (Nova Poshta API недоступний):** Показати повідомлення "Сервіс доставки тимчасово недоступний. Спробуйте пізніше"
- **Alt 4 (Платіж відхилено):** Stripe повертає статус "Відхилено" → система оновлює статус платежу на "Відхилено", оновлює статус замовлення на "Скасовано", видаляє видаткові накладні (повертає Stock), показує повідомлення "Оплата відхилена"

**Винятки:**
- **Exc 1 (Stripe API недоступний):** Якщо Stripe не відповідає, система відкочує транзакцію БД (видаляє Order та OutgoingDocuments, повертає Stock) та показує помилку "Помилка платіжної системи. Спробуйте пізніше"
- **Exc 2 (Email не відправлено):** Система логує помилку в Serilog та створює задачу для повторної відправки, але замовлення вважається створеним
- **Exc 3 (Некоректний підпис webhook):** Система логує помилку та ігнорує webhook

**Постумови:** 
- Замовлення створене та збережене в БД
- Товари зарезервовані (Stock зменшений через видаткові накладні)
- При успішній оплаті — статус "Обробляється", при оплаті при отриманні — статус "Очікує оплати при отриманні"
- Кошик очищений
- Користувач отримав email-підтвердження

---

### 4.3. Use Case: Додавання нового товару

**Актор:** Менеджер

**Передумови:** Менеджер авторизований в адміністративній панелі з відповідними правами доступу

**Основний потік:**
1. Менеджер переходить до розділу "Керування товарами"
2. Менеджер натискає кнопку "Додати товар"
3. Система відображає форму додавання товару з полями:
   - Назва (обов'язкове)
   - Опис (обов'язкове)
   - Ціна в грн (обов'язкове)
   - Вага в кг (обов'язкове)
   - Категорія (випадаючий список, обов'язкове)
   - Зображення (обов'язкове, мінімум 1)
4. Менеджер заповнює всі обов'язкові поля форми
5. Менеджер завантажує одне або декілька зображень товару
6. Система валідує зображення:
   - Перевіряє формат файлів (допустимі: JPEG, PNG, WebP)
   - Перевіряє розмір кожного файлу (максимум 5 МБ)
7. Система відображає попередній перегляд завантажених зображень
8. Менеджер встановлює одне зображення як головне (перше за замовчуванням)
9. Менеджер натискає кнопку "Зберегти товар"
10. Система валідує всі обов'язкові поля:
    - Перевіряє заповненість полів
    - Перевіряє, що ціна > 0
    - Перевіряє, що вага > 0
    - Перевіряє, що завантажено хоча б одне зображення
11. Система перевіряє, чи товар з такою назвою вже існує в обраній категорії
12. Система завантажує зображення в MinIO Storage:
    - Генерує унікальні імена файлів (UUID + розширення)
    - Завантажує файли в MinIO
    - Отримує URL зображень
13. Система створює запис в таблиці Products:
    - Name, Description, Price, Weight, CategoryId, CreatedAt
    - **Stock не встановлюється** (залишається 0 до створення прибуткової накладної)
14. Система зберігає посилання на зображення в таблиці ProductImages з вказанням головного зображення (IsPrimary = true)
15. Система логує створення товару в Serilog
16. Система показує повідомлення "Товар успішно додано"
17. Система пропонує оформити прибуткову накладну для надходження товару на склад

**Альтернативні потоки:**
- **Alt 1 (Товар з такою назвою існує):** Система показує попередження "Товар з такою назвою вже існує в цій категорії" та пропонує продовжити або змінити назву
- **Alt 2 (Невірний формат зображення):** Система показує помилку "Невірний формат файлу. Підтримуються: JPEG, PNG, WebP" та відхиляє файл
- **Alt 3 (Розмір файлу перевищує ліміт):** Система показує помилку "Файл занадто великий. Максимум: 5 МБ" та відхиляє файл
- **Alt 4 (Не заповнено обов'язкові поля):** Система показує помилку "Заповніть всі обов'язкові поля" та підсвічує порожні поля червоним
- **Alt 5 (Менеджер обирає оформити прибуткову накладну):** Система перенаправляє на форму створення прибуткової накладної з попередньо обраним товаром

**Винятки:**
- **Exc 1 (MinIO недоступний):** Система показує помилку "Помилка завантаження зображення. Спробуйте пізніше" та логує помилку в Serilog
- **Exc 2 (Помилка при створенні запису в БД):** Система відкочує транзакцію, видаляє завантажені зображення з MinIO та показує помилку

**Постумови:** 
- Товар створений та доданий до каталогу
- Зображення товару завантажені в MinIO Storage
- Stock товару = 0 (очікується прибуткова накладна)
- Товар відображається в адміністративній панелі, але недоступний для покупки до надходження на склад

---

## 5. Джерела даних

### 5.1. Результати опитування

**Метод збору:** Google Forms - https://docs.google.com/forms/d/e/1FAIpQLSfqTa0hJ_3oDEEnlAgfMoZYOBC6z12UDOeL1VYi9ysHt1l_JA/viewform?usp=header  
**Кількість респондентів:** 6 осіб  
**Цільова аудиторія:** Студенти ХДУ  
**Період проведення:** Листопад-грудень 2024

#### Ключові результати:

**Демографія:**
- 100% респондентів — студенти ХДУ (підтверджує правильність визначення цільової аудиторії)

**Частота онлайн-покупок:**
- Декілька разів на місяць — 33,3%
- Раз на місяць — 33,3%
- Декілька разів на рік — 33,3%

**Зацікавленість в покупці сувенірної продукції ХДУ онлайн:**
- Оцінка 3 з 5 — 66,7%
- Оцінка 4 з 5 — 33,3%
- **Середня оцінка: 3,3/5** (висока зацікавленість)

**Важливість функцій інтернет-магазину:**

| Функція | Не важливо | Бажано | Дуже важливо |
|---------|------------|--------|--------------|
| Швидке оформлення замовлення | 0% | 33,3% | 66,7% |
| Збереження історії покупок | 16,7% | 66,7% | 16,7% |
| Можливість оплати карткою онлайн | 0% | 33,3% | 66,7% |
| Можливість оплати при отриманні | 16,7% | 33,3% | 50% |
| Відстеження статусу замовлення | 0% | 0% | **100%** |
| Персональні знижки для студентів | 0% | 83,3% | 16,7% |

**Спосіб доставки (переваги):**
- Доставка Nova Poshta (відділення) — **83,3%**
- Доставка Nova Poshta (кур'єр) — 16,7%

**Додаткові побажання респондентів:**
- Зручний інтерфейс для швидкого пошуку товарів
- Можливість перегляду товарів з різних ракурсів
- Інформація про наявність товару в реальному часі
- Персональні рекомендації на основі історії покупок

#### Графічна візуалізація результатів:

```
Важливість відстеження статусу замовлення:
████████████████████████████████████████ 100% (Дуже важливо)

Переваги способу доставки:
Nova Poshta (відділення) ████████████████████████████████ 83,3%
Nova Poshta (кур'єр)      ████ 16,7%

Зацікавленість у покупці сувенірів онлайн:
Оцінка 4/5 ████████████ 33,3%
Оцінка 3/5 ████████████████████████ 66,7%
Середня: 3,3/5
```

#### Висновки з опитування:

1. **Критична важливість відстеження замовлень:** 100% респондентів вважають цю функцію дуже важливою, що робить її обов'язковою для MVP
2. **Пріоритет швидкого оформлення та онлайн-оплати:** 66,7% респондентів вважають ці функції критично важливими
3. **Домінування Nova Poshta (відділення):** 83,3% віддають перевагу саме цьому способу доставки, що визначає пріоритет інтеграції
4. **Гібридна модель оплати:** Необхідність підтримки як онлайн-оплати (66,7% дуже важливо), так і оплати при отриманні (50% дуже важливо)
5. **Знижки як конкурентна перевага:** 83,3% вважають персональні знижки бажаними, що може стати важливою особливістю для залучення студентів

---

### 5.2. Висновки з інтерв'ю

**Метод:** Глибинне структуроване інтерв'ю (симуляція)  
**Респондент:** Студент 3 курсу ХДУ  
**Тривалість:** 8 хвилин  
**Формат:** Питання-відповідь з фокусом на болі користувачів та очікування

#### Ключові інсайти:

**1. Проблеми з поточним процесом покупки:**
- *"Купував у тимчасовому намету біля головного корпусу під час святкування... велика черга, обмежений вибір розмірів"*
- Відсутність товарів потрібного розміру змушує купувати неідеальні варіанти
- Обмежена доступність точок продажу (лише під час спеціальних заходів)
- Неможливість заздалегідь ознайомитися з асортиментом та цінами

**2. Потреби в інформації про товар:**
- *"Хотілося б мати якісь фото, щоб розуміти, чи добре виглядає логотип на товарі, яка якість матеріалу"*
- *"Якісні фото з різних ракурсів"*
- *"Наявність товару — скільки залишилося, щоб не виявилося, що замовив, а потім дізнаюся, що немає в наявності"*
- Необхідність детальних характеристик для прийняття рішення про покупку

**3. Очікування від онлайн-магазину:**
- *"Це було б дуже класно! Я б точно користувався"*
- *"Можна було б спокійно вибрати товар удома, подивитися всі варіанти, порівняти ціни, обрати потрібний розмір"*
- Інтеграція з Nova Poshta як звичний спосіб доставки: *"я і так часто забираю посилки з інтернет-магазинів"*

**4. Критично важливі функції:**
- Швидкий пошук товарів
- Відстеження замовлення: *"де воно зараз, коли приїде"*
- Онлайн-оплата: *"можливість оплати карткою онлайн — я рідко маю готівку з собою"*
- Інформація про наявність в реальному часі

**5. Додаткові побажання — система знижок:**
- *"Навіть невелика знижка, скажімо, 10-15% для студентів, була б приємною мотивацією купити більше товарів"*
- Ідея накопичувальної системи: *"чим більше купуєш, тим більша знижка"*
- Спеціальні акції під час сесії або свят

**6. Потенційні бар'єри використання:**
- *"Якщо процес оформлення замовлення буде занадто складним — багато кроків, потрібно заповнювати купу полів"*
- *"Якщо доставка буде занадто дорогою або довгою"*
- *"Якщо сайт буде гальмувати або погано працювати на телефоні — я ж частіше з телефону заходжу в інтернет-магазини"*
- Підкреслює важливість мобільної адаптації та продуктивності

**7. Мотивація до використання:**
- *"Сподіваюся, що магазин справді з'явиться — я буду одним із перших покупців!"*
- Висока готовність до використання та рекомендації іншим

#### Узагальнені висновки з інтерв'ю:

**Підтверджені must-have функції:**
1. Якісні фото товарів з різних ракурсів
2. Інформація про наявність товару в реальному часі
3. Швидке та зручне оформлення замовлення (мінімум кроків)
4. Інтеграція з Nova Poshta для доставки
5. Можливість онлайн-оплати карткою
6. Відстеження статусу замовлення

**Should-have функції:**
1. Система знижок для студентів (10-15%)
2. Можливість порівняння товарів
3. Детальні характеристики товарів (розмір, колір, матеріал)

**Критичні нефункціональні вимоги:**
1. Мобільна адаптація (більшість користувачів заходять з телефону)
2. Висока продуктивність (швидке завантаження сторінок)
3. Простий UX (мінімум кроків для оформлення замовлення)

---

### 5.3. Загальні висновки з досліджень

На основі комбінованого аналізу опитування (6 респондентів) та глибинного інтерв'ю можна зробити наступні критичні висновки для розробки інтернет-магазину:

#### Підтверджена цінність продукту:
- 100% респондентів опитування є представниками цільової аудиторії (студенти ХДУ)
- 100% виявили інтерес до покупки сувенірної продукції онлайн (середня оцінка 3,3/5)
- Респондент інтерв'ю підтвердив готовність стати "одним із перших покупців"
- Наявний досвід онлайн-покупок у 100% респондентів створює очікування щодо стандартів якості

#### Обов'язкові функції для MVP (підтверджено обома дослідженнями):

| Функція | Опитування | Інтерв'ю | Статус |
|---------|------------|----------|--------|
| Відстеження статусу замовлення | 100% дуже важливо | "де воно зараз, коли приїде" | **MUST** |
| Швидке оформлення замовлення | 66,7% дуже важливо | "мінімум кроків, не купа полів" | **MUST** |
| Онлайн-оплата карткою | 66,7% дуже важливо | "рідко маю готівку" | **MUST** |
| Оплата при отриманні | 50% дуже важливо | не згадано, але важливо | **MUST** |
| Інтеграція Nova Poshta (відділення) | 83,3% переваги | "часто забираю посилки" | **MUST** |
| Інформація про наявність товару | не в опитуванні | "скільки залишилося" | **MUST** |
| Якісні фото товарів | не в опитуванні | "фото з різних ракурсів" | **MUST** |

#### Функції з високим бізнес-потенціалом:
- **Знижки для студентів:** 83,3% вважають бажаними (опитування) + конкретна пропозиція "10-15%, накопичувальна система" (інтерв'ю)
- **Історія замовлень:** 66,7% вважають бажаним (опитування)

#### Критичні нефункціональні вимоги:
- **Мобільна адаптація:** Інтерв'ю підтвердило, що користувачі "частіше з телефону заходять в інтернет-магазини"
- **Продуктивність:** "Якщо сайт буде гальмувати" — відштовхне користувачів
- **Простий UX:** "Занадто складний процес оформлення" визначений як основний бар'єр

#### Виявлені ризики та бар'єри:
1. Складний процес оформлення замовлення → вимагає UX-тестування
2. Висока вартість або тривалість доставки → оптимізація логістики
3. Погана продуктивність на мобільних пристроях → пріоритет мобільної версії
4. Відсутність інформації про наявність → інтеграція з системою складського обліку

#### Конкурентні переваги для реалізації:
- Персональні знижки для студентів університету (10-15%)
- Накопичувальна система лояльності
- Спеціальні акції під час університетських заходів
- Швидке оформлення замовлення (максимум 5 кліків)
- Якісна презентація товарів з детальними фото

#### Рекомендації для розробки:
1. **Фаза MVP:** Фокус на core-функціях (каталог, кошик, оформлення замовлення, відстеження, інтеграції Nova Poshta та Stripe)
2. **Фаза 2:** Додавання системи знижок та програми лояльності
3. **Фаза 3:** Персоналізація (рекомендації, історія переглядів)
4. **Постійний фокус:** Продуктивність та мобільна адаптація на всіх етапах розробки

---

## 6. Технічний стек

### 6.1. Frontend
- **Framework:** React.js
- **Маршрутизація:** React Router
- **Управління станом:** Redux / Context API
- **HTTP-клієнт:** Axios
- **Стилізація:** Tailwind CSS / CSS Modules
- **UI-компоненти:** Custom Components

### 6.2. Backend
- **Платформа:** .NET Core 8.0 (C#)
- **Архітектура:** REST API
- **ORM:** Entity Framework Core
- **Аутентифікація:** ASP.NET Identity + JWT
- **Логування:** Serilog
- **Кешування:** In-Memory Cache

### 6.3. База даних
- **СУБД:** MySQL 8.0
- **Підхід:** Code-First з міграціями EF Core

### 6.4. Зовнішні сервіси
- **Платежі:** Stripe (Sandbox для розробки)
- **Доставка:** Nova Poshta API
- **Email:** SMTP Client
- **Зберігання медіа:** MinIO (локально для розробки)

### 6.5. DevOps
- **Контейнеризація:** Docker + Docker Compose
- **CI/CD:** GitHub Actions
- **Хостинг:** Render.com (планується)
- **API документація:** Swagger/OpenAPI

### 6.6. Тестування
- **Backend:** xUnit
- **Frontend:** Jest
- **E2E:** Cypress

---

## 7. Пріоритизація розробки (MoSCoW)

### Must Have (Критично важливі для MVP):
- Перегляд каталогу товарів з фото
- Пошук та фільтрація товарів
- Реєстрація та авторизація користувачів
- Додавання товарів до кошика
- Оформлення замовлення з вибором доставки Nova Poshta
- Онлайн-оплата через Stripe
- Оплата при отриманні
- Відстеження статусу замовлення
- Адміністративна панель (базова)
- Управління товарами (CRUD)
- Складський облік через прибуткові/видаткові накладні
- Email-сповіщення про зміну статусу

### Should Have (Важливі, але можуть бути відкладені):
- Особистий кабінет користувача
- Історія замовлень
- Збереження адрес доставки
- Керування користувачами (блокування, скидання паролів)
- Фінансові звіти для адміністратора
- Багатомовність (українська + англійська)

### Could Have (Бажані функції):
- Персональні знижки для студентів
- Система акцій та промокодів
- Персональні рекомендації товарів
- Накопичувальна програма лояльності
- Рейтинги та відгуки товарів

### Won't Have (Поки не реалізуються):
- Інтеграція з соціальними мережами
- Чат підтримки в реальному часі
- Мобільний додаток (iOS/Android)
- Розширена аналітика поведінки користувачів
- Інтеграція з іншими платіжними системами (окрім Stripe)

---

## 8. Метрики успіху

### 8.1. Бізнес-метрики
- **Conversion Rate:** Мінімум 2% відвідувачів здійснюють покупку
- **Average Order Value:** Середній чек ≥ 300 грн
- **Customer Retention:** Мінімум 20% користувачів здійснюють повторну покупку протягом 6 місяців
- **Cart Abandonment Rate:** Максимум 70% (галузевий стандарт)

### 8.2. Технічні метрики
- **Page Load Time:** ≤ 3 секунди (Desktop), ≤ 5 секунд (Mobile)
- **API Response Time:** ≤ 2 секунди для 95% запитів
- **Uptime:** ≥ 99.5% доступності
- **Error Rate:** < 1% від загальної кількості запитів

### 8.3. UX-метрики
- **Time to Checkout:** Оформлення замовлення в середньому ≤ 3 хвилини
- **Search Success Rate:** Користувачі знаходять потрібний товар у 90% випадків
- **Mobile Traffic:** Очікується 60%+ трафіку з мобільних пристроїв
- **Customer Satisfaction (CSAT):** Мінімум 4/5 в опитуваннях користувачів

---

## 9. Ризики та обмеження

### 9.1. Технічні ризики
- **Висока залежність від зовнішніх API:** Недоступність Nova Poshta або Stripe може заблокувати критичні функції
  - *Мітигація:* Реалізувати fallback-механізми та повідомлення користувачам
- **Складність інтеграції платіжної системи:** Stripe Sandbox може мати обмеження
  - *Мітигація:* Детальне тестування та документація Stripe API
- **Продуктивність при масштабуванні:** Можливі проблеми при >500 одночасних користувачів
  - *Мітигація:* Кешування, оптимізація запитів, горизонтальне масштабування

### 9.2. Бізнес-ризики
- **Низька конверсія на початку:** Відсутність довіри до нового магазину
  - *Мітигація:* Маркетингові акції, знижки для перших покупців, відгуки
- **Логістичні складнощі:** Проблеми з доставкою можуть погіршити репутацію
  - *Мітигація:* Надійна інтеграція з Nova Poshta, чітка комунікація про терміни

### 9.3. Обмеження MVP
- Відсутність мобільного додатку (лише адаптивна веб-версія)
- Підтримка лише однієї служби доставки (Nova Poshta)
- Підтримка лише одного платіжного шлюзу (Stripe)
- Базовий функціонал адміністративної панелі без розширеної аналітики

---

## 10. Дорожня карта розробки

### Phase 1: MVP (Тривалість: 8-10 тижнів)
**Тижні 1-2:** Налаштування проєкту, архітектура, база даних
**Тижні 3-4:** Backend API (аутентифікація, каталог, кошик)
**Тижні 5-6:** Frontend (головна, каталог, товар, кошик)
**Тижні 7-8:** Інтеграції (Stripe, Nova Poshta, Email)
**Тижні 9-10:** Тестування, виправлення багів, деплой

### Phase 2: Покращення UX (Тривалість: 4-6 тижнів)
- Особистий кабінет користувача
- Історія замовлень
- Фінансові звіти для адміністратора
- Багатомовність

### Phase 3: Маркетингові функції (Тривалість: 4-6 тижнів)
- Система знижок для студентів
- Промокоди та акції
- Програма лояльності
- Email-маркетинг

### Phase 4: Розширення функціоналу (Майбутнє)
- Персональні рекомендації
- Рейтинги та відгуки
- Інтеграція з соцмережами
- Розширена аналітика

---

## Додатки

### Додаток A: Глосарій термінів
- **JWT (JSON Web Token):** Стандарт для створення токенів доступу
- **RBAC (Role-Based Access Control):** Контроль доступу на основі ролей
- **Stock:** Поточний залишок товару на складі
- **Прибуткова накладна:** Документ для оформлення надходження товару
- **Видаткова накладна:** Документ для оформлення списання товару
- **MVP (Minimum Viable Product):** Мінімально життєздатний продукт
- **ТТН:** Транспортна товарно-транспортна накладна (номер відправлення Nova Poshta)

### Додаток B: Посилання на ресурси
- [Stripe API Documentation](https://stripe.com/docs/api)
- [Nova Poshta API Documentation](https://devcenter.novaposhta.ua/)
- [React Documentation](https://react.dev/)
- [.NET Core Documentation](https://docs.microsoft.com/dotnet/)
- [Entity Framework Core](https://docs.microsoft.com/ef/core/)